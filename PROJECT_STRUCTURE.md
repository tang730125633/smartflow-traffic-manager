# SmartFlow é¡¹ç›®ç»“æ„è¯´æ˜

## ğŸ“ é¡¹ç›®ç›®å½•ç»“æ„

```
SmartFlow-Traffic-Manager-main/
â”œâ”€â”€ ğŸ“„ README.md                    # é¡¹ç›®ä¸»æ–‡æ¡£
â”œâ”€â”€ ğŸ“„ requirements.txt             # Pythonä¾èµ–åŒ…
â”œâ”€â”€ ğŸ“„ run_app.py                   # åŸå§‹å¯åŠ¨è„šæœ¬
â”œâ”€â”€ ğŸ“„ start_app.py                 # ä¼˜åŒ–å¯åŠ¨è„šæœ¬ï¼ˆæ¨èï¼‰
â”œâ”€â”€ ğŸ“„ docker-compose.yml           # Dockerç¼–æ’é…ç½®
â”œâ”€â”€ ğŸ“„ LICENSE                      # å¼€æºè®¸å¯è¯
â”‚
â”œâ”€â”€ ğŸ“ sftm_server/                 # Flaskå‰ç«¯æœåŠ¡
â”‚   â”œâ”€â”€ ğŸ“„ __init__.py              # ä¸»åº”ç”¨æ¨¡å—
â”‚   â”œâ”€â”€ ğŸ“„ db.py                    # æ•°æ®åº“æ“ä½œ
â”‚   â”œâ”€â”€ ğŸ“„ mock_data_generator.py   # æ¨¡æ‹Ÿæ•°æ®ç”Ÿæˆå™¨
â”‚   â”œâ”€â”€ ğŸ“„ schema.sql               # æ•°æ®åº“ç»“æ„
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ static/                  # é™æ€èµ„æº
â”‚   â”‚   â”œâ”€â”€ ğŸ“ images/              # å›¾ç‰‡èµ„æº
â”‚   â”‚   â”œâ”€â”€ ğŸ“ js/                  # JavaScriptæ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ ğŸ“ style/               # CSSæ ·å¼æ–‡ä»¶
â”‚   â”‚   â””â”€â”€ ğŸ“ vendor/              # ç¬¬ä¸‰æ–¹åº“
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ“ templates/               # HTMLæ¨¡æ¿
â”‚       â”œâ”€â”€ ğŸ“„ base.html            # åŸºç¡€æ¨¡æ¿
â”‚       â”œâ”€â”€ ğŸ“„ dashboard.html       # ä»ªè¡¨æ¿é¡µé¢
â”‚       â”œâ”€â”€ ğŸ“„ traffic_analysis.html # äº¤é€šåˆ†æé¡µé¢
â”‚       â”œâ”€â”€ ğŸ“„ login.html           # ç™»å½•é¡µé¢
â”‚       â””â”€â”€ ğŸ“„ register.html        # æ³¨å†Œé¡µé¢
â”‚
â”œâ”€â”€ ğŸ“ spring-cloud-services/       # Spring Cloudå¾®æœåŠ¡
â”‚   â”œâ”€â”€ ğŸ“ eureka-server/           # æœåŠ¡æ³¨å†Œä¸­å¿ƒ
â”‚   â”œâ”€â”€ ğŸ“ gateway-service/         # APIç½‘å…³
â”‚   â”œâ”€â”€ ğŸ“ auth-service/            # è®¤è¯æœåŠ¡
â”‚   â”œâ”€â”€ ğŸ“ traffic-service/         # äº¤é€šæ•°æ®æœåŠ¡
â”‚   â”œâ”€â”€ ğŸ“ analysis-service/        # æ•°æ®åˆ†ææœåŠ¡
â”‚   â”œâ”€â”€ ğŸ“ notification-service/    # é€šçŸ¥æœåŠ¡
â”‚   â””â”€â”€ ğŸ“ ai-detection-service/    # AIæ£€æµ‹æœåŠ¡
â”‚
â”œâ”€â”€ ğŸ“ sql/                         # æ•°æ®åº“è„šæœ¬
â”‚   â”œâ”€â”€ ğŸ“„ init.sql                 # åˆå§‹åŒ–è„šæœ¬
â”‚   â””â”€â”€ ğŸ“„ ai_detection_init.sql    # AIæ£€æµ‹åˆå§‹åŒ–
â”‚
â”œâ”€â”€ ğŸ“ scripts/                     # å¯åŠ¨è„šæœ¬
â”‚   â”œâ”€â”€ ğŸ“„ start-ai-detection-service.sh
â”‚   â””â”€â”€ ğŸ“„ test-ai-detection-service.sh
â”‚
â”œâ”€â”€ ğŸ“ instance/                    # å®ä¾‹æ•°æ®
â”‚   â””â”€â”€ ğŸ“„ sftm.sqlite             # SQLiteæ•°æ®åº“
â”‚
â””â”€â”€ ğŸ“ venv/                        # Pythonè™šæ‹Ÿç¯å¢ƒ
```

## ğŸš€ å¿«é€Ÿå¯åŠ¨

### æ–¹å¼ä¸€ï¼šä½¿ç”¨ä¼˜åŒ–å¯åŠ¨è„šæœ¬ï¼ˆæ¨èï¼‰

```bash
# 1. æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
source venv/bin/activate

# 2. å¯åŠ¨åº”ç”¨
python start_app.py
```

### æ–¹å¼äºŒï¼šä½¿ç”¨åŸå§‹å¯åŠ¨è„šæœ¬

```bash
# 1. æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
source venv/bin/activate

# 2. å¯åŠ¨åº”ç”¨
python run_app.py
```

## ğŸ”§ ä¸»è¦æ–‡ä»¶è¯´æ˜

### æ ¸å¿ƒæ–‡ä»¶

- **`start_app.py`** - ä¼˜åŒ–çš„å¯åŠ¨è„šæœ¬ï¼Œè‡ªåŠ¨å¤„ç†ç«¯å£å†²çª
- **`run_app.py`** - åŸå§‹å¯åŠ¨è„šæœ¬
- **`sftm_server/__init__.py`** - Flaskåº”ç”¨ä¸»æ¨¡å—
- **`sftm_server/db.py`** - æ•°æ®åº“æ“ä½œæ¨¡å—
- **`requirements.txt`** - Pythonä¾èµ–åŒ…åˆ—è¡¨

### é…ç½®æ–‡ä»¶

- **`docker-compose.yml`** - Dockerå®¹å™¨ç¼–æ’é…ç½®
- **`sftm_server/schema.sql`** - æ•°æ®åº“è¡¨ç»“æ„å®šä¹‰

### é™æ€èµ„æº

- **`sftm_server/static/`** - å‰ç«¯é™æ€èµ„æº
- **`sftm_server/templates/`** - HTMLæ¨¡æ¿æ–‡ä»¶

## ğŸ“Š æ•°æ®åº“ç»“æ„

### ä¸»è¦æ•°æ®è¡¨

1. **`traffic`** - äº¤é€šæ•°æ®è¡¨
   - å­˜å‚¨è½¦è¾†è®¡æ•°ã€é€Ÿåº¦ã€æµé‡ç­‰æ•°æ®

2. **`accidents`** - äº‹æ•…æ•°æ®è¡¨
   - å­˜å‚¨äº‹æ•…ä¿¡æ¯ã€å›¾ç‰‡ã€çŠ¶æ€ç­‰

3. **`incidents`** - äº‹ä»¶ç®¡ç†è¡¨
   - å­˜å‚¨äº¤é€šäº‹ä»¶ã€çŠ¶æ€ã€å¤„ç†ä¿¡æ¯

4. **`user`** - ç”¨æˆ·è¡¨
   - å­˜å‚¨ç”¨æˆ·è®¤è¯ä¿¡æ¯

## ğŸŒ æœåŠ¡ç«¯å£

- **å‰ç«¯æœåŠ¡**: 8080 (Flask)
- **Eureka Server**: 8761
- **Gateway Service**: 8080 (Spring Cloud)
- **Auth Service**: 8001
- **Traffic Service**: 8002
- **Analysis Service**: 8003
- **Notification Service**: 8004

## ğŸ” æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **ç«¯å£å†²çª**
   - ä½¿ç”¨ `start_app.py` è‡ªåŠ¨å¤„ç†
   - æˆ–æ‰‹åŠ¨æ€æ­»å ç”¨è¿›ç¨‹

2. **ä¾èµ–å®‰è£…å¤±è´¥**
   - æ£€æŸ¥Pythonç‰ˆæœ¬ (3.8+)
   - æ›´æ–°pip: `pip install --upgrade pip`

3. **æ•°æ®åº“è¿æ¥å¤±è´¥**
   - æ£€æŸ¥SQLiteæ–‡ä»¶æƒé™
   - é‡æ–°åˆå§‹åŒ–æ•°æ®åº“

## ğŸ“ å¼€å‘è¯´æ˜

### ä»£ç è§„èŒƒ

- ä½¿ç”¨Python 3.8+è¯­æ³•
- éµå¾ªPEP 8ä»£ç é£æ ¼
- æ·»åŠ é€‚å½“çš„é”™è¯¯å¤„ç†
- ä½¿ç”¨ç±»å‹æç¤ºï¼ˆå¯é€‰ï¼‰

### æ‰©å±•åŠŸèƒ½

- åœ¨ `sftm_server/` ä¸‹æ·»åŠ æ–°æ¨¡å—
- åœ¨ `templates/` ä¸‹æ·»åŠ æ–°é¡µé¢
- åœ¨ `static/` ä¸‹æ·»åŠ æ–°èµ„æº

---

**æ³¨æ„**: è¿™æ˜¯ä¸€ä¸ªå­¦æœ¯ç ”ç©¶é¡¹ç›®ï¼Œä¸»è¦ç”¨äºå±•ç¤ºæ™ºæ…§äº¤é€šç®¡ç†ç³»ç»Ÿçš„è®¾è®¡å’Œå®ç°ã€‚
